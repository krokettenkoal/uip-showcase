{
  "openapi": "3.0.3",
  "info": {
    "title": "Showcase API",
    "description": "API for FHSTP Showcase",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https"
    }
  ],
  "components": {
    "schemas": {
      "Course": {
        "type": "object",
        "description": "A course (LV) in a study program",
        "required": [
          "id",
          "title",
          "sessions"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "The course id"
          },
          "title": {
            "type": "string",
            "description": "The course title"
          },
          "subtitle": {
            "type": "string",
            "description": "The course subtitle (optional)"
          },
          "sessions": {
            "type": "array",
            "description": "The sessions of the course. Can either be an array of `Session`s or an array of integers (session ids)",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/Session"
                },
                {
                  "type": "integer"
                }
              ]
            }
          }
        }
      },
      "Session": {
        "type": "object",
        "description": "A session (lecture or exercise) of a course",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The session id"
          },
          "title": {
            "type": "string",
            "description": "The session title, e.g. 'Lecture 1'"
          },
          "subtitle": {
            "type": "string",
            "description": "The session subtitle (optional)"
          },
          "image": {
            "type": "string",
            "description": "The session image (optional)"
          },
          "date": {
            "type": "string",
            "description": "The date of the session (optional)"
          },
          "examples": {
            "type": "array",
            "description": "The examples of the session. Can either be an array of `Example`s or an array of integers (example ids)",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/Example"
                },
                {
                  "type": "integer"
                }
              ]
            }
          }
        }
      },
      "Example": {
        "type": "object",
        "description": "A code example as demonstrated in a session",
        "required": [
          "id",
          "title",
          "component",
          "sources"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "The example id"
          },
          "title": {
            "type": "string",
            "description": "The example title, e.g. 'Example 1', To-do List'"
          },
          "subtitle": {
            "type": "string",
            "description": "The example subtitle (optional)"
          },
          "icon": {
            "type": "string",
            "description": "The example icon (optional)"
          },
          "image": {
            "type": "string",
            "description": "The example image (optional)"
          },
          "component": {
            "type": "string",
            "description": "The name of the component showcasing the example, e.g. 'TodoList'"
          },
          "sources": {
            "type": "array",
            "description": "The sources (source codes) of the example. Can either be an array of `Source`s or an array of integers (source ids)",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/Source"
                },
                {
                  "type": "integer"
                }
              ]
            }
          }
        }
      },
      "Source": {
        "type": "object",
        "description": "A source code of an example",
        "required": [
          "id",
          "type",
          "code"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "The (internal) id of the source"
          },
          "type": {
            "description": "The type (language/framework) of the source. Can either be a `SourceType` or an integer (source type id)",
            "oneOf": [
              {
                  "$ref": "#/components/schemas/SourceType"
              },
              {
                  "type": "integer"
              }
            ]
          },
          "code": {
            "type": "string",
            "description": "The source code"
          }
        }
      },
      "SourceType": {
        "type": "object",
        "description": "A type (language/framework) of a source code",
        "required": [
          "id",
          "title"
        ],
        "properties": {
          "id": {
            "type": "integer",
            "description": "The (internal) id of the source type"
          },
          "title": {
            "type": "string",
            "description": "The title of the source type, e.g. 'Svelte', 'React', 'Vanilla', 'HTML', 'CSS', 'JavaScript'"
          },
          "icon": {
            "type": "string",
            "description": "The icon of the source type (optional)"
          },
          "language": {
            "type": "string",
            "description": "The language of the source type used for syntax highlighting (optional)"
          }
        }
      }
    }
  },
  "paths": {
    "/courses": {
      "get": {
        "description": "Courses",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Course"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/course/{courseId}": {
      "get": {
        "description": "Course",
        "parameters": [{
            "name": "courseId",
            "in": "path",
            "required": true,
            "schema": {
                "type": "integer"
            }
        }],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Course"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/session/{sessionId}": {
      "get": {
        "description": "Session",
        "parameters": [
          {
            "name": "sessionId",
            "description": "The id of the session to retrieve",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Session"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    },
    "/example/{exampleId}": {
      "get": {
        "description": "Example",
        "parameters": [
          {
            "name": "exampleId",
            "description": "The id of the example to retrieve",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Example"
                }
              }
            }
          },
          "404": {
            "description": "Not Found"
          }
        }
      }
    }
  }
}
